{"ast":null,"code":"import { ref, computed, onMounted, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport SEOHead from '@/components/common/SEOHead.vue';\nimport PurchaseOptions from '@/components/service/PurchaseOptions.vue';\nexport default {\n  name: 'ServiceDetailsPage',\n  components: {\n    SEOHead,\n    PurchaseOptions\n  },\n  setup() {\n    const route = useRoute();\n    const store = useStore();\n    const activeTab = ref('description');\n    const service = computed(() => {\n      return store.getters.getServiceById(route.params.id);\n    });\n    const relatedServices = computed(() => {\n      if (!service.value) return [];\n\n      // Get all services except the current one\n      const otherServices = store.getters.services.filter(s => s.id !== service.value.id);\n\n      // Return up to 3 related services\n      return otherServices.slice(0, 3);\n    });\n    const calculateDiscount = (originalPrice, discountPrice) => {\n      return Math.round((1 - discountPrice / originalPrice) * 100);\n    };\n    const formatPrice = price => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    const schemaData = computed(() => {\n      if (!service.value) return {};\n      return {\n        name: service.value.name,\n        description: service.value.description,\n        image: service.value.image,\n        offers: {\n          '@type': 'Offer',\n          price: service.value.discountedPrice || service.value.price,\n          priceCurrency: 'SEK',\n          availability: 'https://schema.org/InStock'\n        },\n        brand: {\n          '@type': 'Brand',\n          name: 'Svensk Hälsovård'\n        }\n      };\n    });\n\n    // Reset active tab when service changes\n    watch(() => route.params.id, () => {\n      activeTab.value = 'description';\n      window.scrollTo(0, 0);\n    });\n    onMounted(() => {\n      window.scrollTo(0, 0);\n    });\n    return {\n      service,\n      relatedServices,\n      activeTab,\n      calculateDiscount,\n      formatPrice,\n      schemaData\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","useRoute","useStore","SEOHead","PurchaseOptions","name","components","setup","route","store","activeTab","service","getters","getServiceById","params","id","relatedServices","value","otherServices","services","filter","s","slice","calculateDiscount","originalPrice","discountPrice","Math","round","formatPrice","price","Intl","NumberFormat","format","schemaData","description","image","offers","discountedPrice","priceCurrency","availability","brand","window","scrollTo"],"sources":["/home/dennis/medport/frontend/src/views/ServiceDetailsPage.vue"],"sourcesContent":["<template>\n    <div v-if=\"service\" class=\"service-details-page\">\n      <SEOHead\n        :title=\"`${service.name} - Svensk Hälsovård`\"\n        :description=\"service.shortDescription\"\n        :schemaType=\"'Product'\"\n        :schemaData=\"schemaData\"\n      />\n      \n      <div class=\"container\">\n        <div class=\"breadcrumbs\">\n          <router-link to=\"/\">Hem</router-link>\n          <span class=\"separator\">/</span>\n          <router-link to=\"/#services\">Tjänster</router-link>\n          <span class=\"separator\">/</span>\n          <span class=\"current\">{{ service.name }}</span>\n        </div>\n        \n        <div class=\"service-details\">\n          <div class=\"service-image\">\n            <img :src=\"service.image\" :alt=\"service.name\" />\n            <div v-if=\"service.discountedPrice\" class=\"discount-badge\">\n              -{{ calculateDiscount(service.price, service.discountedPrice) }}%\n            </div>\n          </div>\n          \n          <div class=\"service-info\">\n            <h1>{{ service.name }}</h1>\n            <p class=\"service-short-description\">{{ service.shortDescription }}</p>\n            \n            <div class=\"service-price\">\n              <div class=\"price-container\">\n                <span v-if=\"service.discountedPrice\" class=\"original-price\">{{ formatPrice(service.price) }} kr</span>\n                <span class=\"current-price\">{{ formatPrice(service.discountedPrice || service.price) }} kr</span>\n                <span v-if=\"service.isSubscription\" class=\"subscription-interval\">{{ service.subscriptionInterval }}</span>\n              </div>\n              \n              <div class=\"service-rating\">\n                <div class=\"stars\">\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                </div>\n                <span>(24 recensioner)</span>\n              </div>\n            </div>\n            \n            <div class=\"purchase-options\">\n              <PurchaseOptions :service=\"service\" />\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"service-description\">\n          <div class=\"description-tabs\">\n            <div \n              class=\"tab\" \n              :class=\"{ active: activeTab === 'description' }\" \n              @click=\"activeTab = 'description'\"\n            >\n              Beskrivning\n            </div>\n            <div \n              class=\"tab\" \n              :class=\"{ active: activeTab === 'features' }\" \n              @click=\"activeTab = 'features'\"\n            >\n              Inkluderar\n            </div>\n            <div \n              class=\"tab\" \n              :class=\"{ active: activeTab === 'faq' }\" \n              @click=\"activeTab = 'faq'\"\n            >\n              Vanliga frågor\n            </div>\n          </div>\n          \n          <div class=\"tab-content\">\n            <div v-if=\"activeTab === 'description'\" class=\"description-content\">\n              <p>{{ service.description }}</p>\n              <p>Våra tjänster utförs av erfarna sjuksköterskor och läkare med hög kompetens inom området. Vi använder de senaste metoderna och teknologierna för att säkerställa högsta kvalitet på våra analyser.</p>\n              <p>Efter genomförd undersökning eller prov får du en detaljerad rapport med dina resultat och rekommendationer från våra medicinska experter.</p>\n            </div>\n            \n            <div v-if=\"activeTab === 'features'\" class=\"features-content\">\n              <ul class=\"feature-list\">\n                <li v-for=\"(feature, index) in service.features\" :key=\"index\">\n                  <i class=\"fas fa-check\"></i>\n                  <span>{{ feature }}</span>\n                </li>\n              </ul>\n            </div>\n            \n            <div v-if=\"activeTab === 'faq'\" class=\"faq-content\">\n              <div class=\"faq-item\">\n                <div class=\"faq-question\">Hur går processen till?</div>\n                <div class=\"faq-answer\">\n                  <p>Efter att du har bokat och betalat för din tjänst kommer du att få en bekräftelse via e-post med information om din bokning. Du kommer att kontaktas för att bekräfta en tid för ditt besök, eller för att få instruktioner för självprovtagning om det är tillämpligt.</p>\n                </div>\n              </div>\n              <div class=\"faq-item\">\n                <div class=\"faq-question\">Hur lång tid tar testet/undersökningen?</div>\n                <div class=\"faq-answer\">\n                  <p>Tiden varierar beroende på vilken tjänst du har valt. En standard blodprovstagning tar normalt 15-20 minuter, medan en fullständig hälsokontroll kan ta upp till 1-2 timmar.</p>\n                </div>\n              </div>\n              <div class=\"faq-item\">\n                <div class=\"faq-question\">När får jag mina resultat?</div>\n                <div class=\"faq-answer\">\n                  <p>Resultaten från blodprover är normalt tillgängliga inom 2-3 arbetsdagar. För mer omfattande hälsokontroller kan det ta upp till 5 arbetsdagar innan alla resultat är sammanställda.</p>\n                </div>\n              </div>\n              <div class=\"faq-item\">\n                <div class=\"faq-question\">Kan jag avboka eller ändra min bokning?</div>\n                <div class=\"faq-answer\">\n                  <p>Du kan avboka eller ändra din bokning upp till 24 timmar före din bokade tid utan kostnad. För avbokningar med kortare varsel debiteras en avgift på 50% av tjänstens pris.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"related-services\">\n          <h2>Relaterade tjänster</h2>\n          <div class=\"related-services-list\">\n            <div \n              v-for=\"relatedService in relatedServices\" \n              :key=\"relatedService.id\" \n              class=\"related-service-item\"\n            >\n              <div class=\"service-card\">\n                <div class=\"service-image\">\n                  <img :src=\"relatedService.image\" :alt=\"relatedService.name\" />\n                  <div v-if=\"relatedService.discountedPrice\" class=\"discount-badge\">\n                    -{{ calculateDiscount(relatedService.price, relatedService.discountedPrice) }}%\n                  </div>\n                </div>\n                <div class=\"service-info\">\n                  <h3>{{ relatedService.name }}</h3>\n                  <p>{{ relatedService.shortDescription }}</p>\n                  <div class=\"service-price\">\n                    <span v-if=\"relatedService.discountedPrice\" class=\"original-price\">{{ formatPrice(relatedService.price) }} kr</span>\n                    <span class=\"current-price\">{{ formatPrice(relatedService.discountedPrice || relatedService.price) }} kr</span>\n                  </div>\n                  <div class=\"service-actions\">\n                    <router-link :to=\"`/service/${relatedService.id}`\" class=\"btn btn-primary\">Läs mer</router-link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, computed, onMounted, watch } from 'vue';\n  import { useRoute } from 'vue-router';\n  import { useStore } from 'vuex';\n  import SEOHead from '@/components/common/SEOHead.vue';\n  import PurchaseOptions from '@/components/service/PurchaseOptions.vue';\n  \n  export default {\n    name: 'ServiceDetailsPage',\n    components: {\n      SEOHead,\n      PurchaseOptions\n    },\n    setup() {\n      const route = useRoute();\n      const store = useStore();\n      \n      const activeTab = ref('description');\n      \n      const service = computed(() => {\n        return store.getters.getServiceById(route.params.id);\n      });\n      \n      const relatedServices = computed(() => {\n        if (!service.value) return [];\n        \n        // Get all services except the current one\n        const otherServices = store.getters.services.filter(s => s.id !== service.value.id);\n        \n        // Return up to 3 related services\n        return otherServices.slice(0, 3);\n      });\n      \n      const calculateDiscount = (originalPrice, discountPrice) => {\n        return Math.round((1 - discountPrice / originalPrice) * 100);\n      };\n      \n      const formatPrice = (price) => {\n        return new Intl.NumberFormat('sv-SE').format(price);\n      };\n      \n      const schemaData = computed(() => {\n        if (!service.value) return {};\n        \n        return {\n          name: service.value.name,\n          description: service.value.description,\n          image: service.value.image,\n          offers: {\n            '@type': 'Offer',\n            price: service.value.discountedPrice || service.value.price,\n            priceCurrency: 'SEK',\n            availability: 'https://schema.org/InStock'\n          },\n          brand: {\n            '@type': 'Brand',\n            name: 'Svensk Hälsovård'\n          }\n        };\n      });\n      \n      // Reset active tab when service changes\n      watch(() => route.params.id, () => {\n        activeTab.value = 'description';\n        window.scrollTo(0, 0);\n      });\n      \n      onMounted(() => {\n        window.scrollTo(0, 0);\n      });\n      \n      return {\n        service,\n        relatedServices,\n        activeTab,\n        calculateDiscount,\n        formatPrice,\n        schemaData\n      };\n    }\n  };\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  .service-details-page {\n    padding: 2rem 0;\n    \n    .breadcrumbs {\n      display: flex;\n      align-items: center;\n      margin-bottom: 2rem;\n      font-size: 0.9rem;\n      \n      a {\n        color: #6c757d;\n        \n        &:hover {\n          color: $primary;\n        }\n      }\n      \n      .separator {\n        margin: 0 0.5rem;\n        color: #adb5bd;\n      }\n      \n      .current {\n        color: $primary;\n        font-weight: 500;\n      }\n    }\n    \n    .service-details {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 2rem;\n      margin-bottom: 3rem;\n      \n      .service-image {\n        position: relative;\n        flex: 0 0 100%;\n        max-width: 100%;\n        \n        @media (min-width: $breakpoint-md) {\n          flex: 0 0 40%;\n          max-width: 40%;\n        }\n        \n        img {\n          width: 100%;\n          border-radius: $border-radius;\n          box-shadow: $box-shadow-sm;\n        }\n        \n        .discount-badge {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background-color: $primary;\n          color: white;\n          padding: 0.5rem 0.75rem;\n          border-radius: 0.25rem;\n          font-weight: bold;\n        }\n      }\n      \n      .service-info {\n        flex: 0 0 100%;\n        max-width: 100%;\n        \n        @media (min-width: $breakpoint-md) {\n          flex: 0 0 calc(60% - 2rem);\n          max-width: calc(60% - 2rem);\n        }\n        \n        h1 {\n          color: $primary;\n          margin-bottom: 1rem;\n        }\n        \n        .service-short-description {\n          font-size: 1.1rem;\n          margin-bottom: 1.5rem;\n          color: #495057;\n        }\n        \n        .service-price {\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1.5rem;\n          \n          .price-container {\n            display: flex;\n            flex-wrap: wrap;\n            align-items: baseline;\n            \n            .original-price {\n              text-decoration: line-through;\n              color: #6c757d;\n              margin-right: 0.5rem;\n              font-size: 1.1rem;\n            }\n            \n            .current-price {\n              font-weight: bold;\n              font-size: 1.8rem;\n              color: $primary;\n            }\n            \n            .subscription-interval {\n              display: block;\n              width: 100%;\n              font-size: 0.9rem;\n              color: #6c757d;\n              margin-top: 0.25rem;\n            }\n          }\n          \n          .service-rating {\n            display: flex;\n            align-items: center;\n            \n            .stars {\n              color: #ffc107;\n              margin-right: 0.5rem;\n            }\n            \n            span {\n              color: #6c757d;\n              font-size: 0.9rem;\n            }\n          }\n        }\n      }\n    }\n    \n    .service-description {\n      margin-bottom: 3rem;\n      \n      .description-tabs {\n        display: flex;\n        border-bottom: 1px solid #dee2e6;\n        margin-bottom: 2rem;\n        \n        .tab {\n          padding: 1rem 1.5rem;\n          cursor: pointer;\n          font-weight: 500;\n          color: #6c757d;\n          transition: $transition-base;\n          \n          &:hover {\n            color: $primary;\n          }\n          \n          &.active {\n            color: $primary;\n            border-bottom: 2px solid $primary;\n          }\n        }\n      }\n      \n      .tab-content {\n        .description-content {\n          p {\n            margin-bottom: 1rem;\n            line-height: 1.6;\n          }\n        }\n        \n        .features-content {\n          .feature-list {\n            list-style: none;\n            padding: 0;\n            \n            li {\n              margin-bottom: 1rem;\n              display: flex;\n              align-items: flex-start;\n              \n              i {\n                color: $primary;\n                margin-right: 0.75rem;\n                margin-top: 0.25rem;\n              }\n            }\n          }\n        }\n        \n        .faq-content {\n          .faq-item {\n            margin-bottom: 1.5rem;\n            \n            .faq-question {\n              font-weight: 500;\n              margin-bottom: 0.5rem;\n              color: $primary;\n            }\n            \n            .faq-answer {\n              color: #495057;\n            }\n          }\n        }\n      }\n    }\n    \n    .related-services {\n      h2 {\n        color: $primary;\n        margin-bottom: 2rem;\n      }\n      \n      .related-services-list {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 2rem;\n        \n        .related-service-item {\n          flex: 0 0 100%;\n          max-width: 100%;\n          \n          @media (min-width: $breakpoint-sm) {\n            flex: 0 0 calc(50% - 1rem);\n            max-width: calc(50% - 1rem);\n          }\n          \n          @media (min-width: $breakpoint-lg) {\n            flex: 0 0 calc(33.333333% - 1.33rem);\n            max-width: calc(33.333333% - 1.33rem);\n          }\n          \n          .service-card {\n            height: 100%;\n            border-radius: $border-radius;\n            overflow: hidden;\n            box-shadow: $box-shadow-sm;\n            background-color: white;\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n            \n            &:hover {\n              transform: translateY(-5px);\n              box-shadow: $box-shadow;\n            }\n            \n            .service-image {\n              position: relative;\n              height: 180px;\n              overflow: hidden;\n              \n              img {\n                width: 100%;\n                height: 100%;\n                object-fit: cover;\n              }\n              \n              .discount-badge {\n                position: absolute;\n                top: 10px;\n                right: 10px;\n                background-color: $primary;\n                color: white;\n                padding: 0.25rem 0.5rem;\n                border-radius: 0.25rem;\n                font-weight: bold;\n                font-size: 0.9rem;\n              }\n            }\n            \n            .service-info {\n              padding: 1.5rem;\n              \n              h3 {\n                margin-bottom: 0.5rem;\n                font-size: 1.2rem;\n              }\n              \n              p {\n                color: #6c757d;\n                margin-bottom: 1rem;\n                font-size: 0.9rem;\n              }\n              \n              .service-price {\n                margin-bottom: 1.5rem;\n                \n                .original-price {\n                  text-decoration: line-through;\n                  color: #6c757d;\n                  margin-right: 0.5rem;\n                  font-size: 0.9rem;\n                }\n                \n                .current-price {\n                  font-weight: bold;\n                  font-size: 1.2rem;\n                  color: $primary;\n                }\n              }\n              \n              .service-actions {\n                display: flex;\n                justify-content: center;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  </style>"],"mappings":"AAgKE,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,KAAI,QAAS,KAAK;AACrD,SAASC,QAAO,QAAS,YAAY;AACrC,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,OAAM,MAAO,iCAAiC;AACrD,OAAOC,eAAc,MAAO,0CAA0C;AAEtE,eAAe;EACbC,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IACVH,OAAO;IACPC;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIP,QAAQ,CAAC,CAAC;IACxB,MAAMQ,KAAI,GAAIP,QAAQ,CAAC,CAAC;IAExB,MAAMQ,SAAQ,GAAIb,GAAG,CAAC,aAAa,CAAC;IAEpC,MAAMc,OAAM,GAAIb,QAAQ,CAAC,MAAM;MAC7B,OAAOW,KAAK,CAACG,OAAO,CAACC,cAAc,CAACL,KAAK,CAACM,MAAM,CAACC,EAAE,CAAC;IACtD,CAAC,CAAC;IAEF,MAAMC,eAAc,GAAIlB,QAAQ,CAAC,MAAM;MACrC,IAAI,CAACa,OAAO,CAACM,KAAK,EAAE,OAAO,EAAE;;MAE7B;MACA,MAAMC,aAAY,GAAIT,KAAK,CAACG,OAAO,CAACO,QAAQ,CAACC,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACN,EAAC,KAAMJ,OAAO,CAACM,KAAK,CAACF,EAAE,CAAC;;MAEnF;MACA,OAAOG,aAAa,CAACI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAClC,CAAC,CAAC;IAEF,MAAMC,iBAAgB,GAAIA,CAACC,aAAa,EAAEC,aAAa,KAAK;MAC1D,OAAOC,IAAI,CAACC,KAAK,CAAC,CAAC,IAAIF,aAAY,GAAID,aAAa,IAAI,GAAG,CAAC;IAC9D,CAAC;IAED,MAAMI,WAAU,GAAKC,KAAK,IAAK;MAC7B,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD,CAAC;IAED,MAAMI,UAAS,GAAInC,QAAQ,CAAC,MAAM;MAChC,IAAI,CAACa,OAAO,CAACM,KAAK,EAAE,OAAO,CAAC,CAAC;MAE7B,OAAO;QACLZ,IAAI,EAAEM,OAAO,CAACM,KAAK,CAACZ,IAAI;QACxB6B,WAAW,EAAEvB,OAAO,CAACM,KAAK,CAACiB,WAAW;QACtCC,KAAK,EAAExB,OAAO,CAACM,KAAK,CAACkB,KAAK;QAC1BC,MAAM,EAAE;UACN,OAAO,EAAE,OAAO;UAChBP,KAAK,EAAElB,OAAO,CAACM,KAAK,CAACoB,eAAc,IAAK1B,OAAO,CAACM,KAAK,CAACY,KAAK;UAC3DS,aAAa,EAAE,KAAK;UACpBC,YAAY,EAAE;QAChB,CAAC;QACDC,KAAK,EAAE;UACL,OAAO,EAAE,OAAO;UAChBnC,IAAI,EAAE;QACR;MACF,CAAC;IACH,CAAC,CAAC;;IAEF;IACAL,KAAK,CAAC,MAAMQ,KAAK,CAACM,MAAM,CAACC,EAAE,EAAE,MAAM;MACjCL,SAAS,CAACO,KAAI,GAAI,aAAa;MAC/BwB,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;IAEF3C,SAAS,CAAC,MAAM;MACd0C,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;IAEF,OAAO;MACL/B,OAAO;MACPK,eAAe;MACfN,SAAS;MACTa,iBAAiB;MACjBK,WAAW;MACXK;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}