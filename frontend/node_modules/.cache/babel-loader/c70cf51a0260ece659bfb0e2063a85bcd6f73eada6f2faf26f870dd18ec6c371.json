{"ast":null,"code":"import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"purchase-options\"\n};\nconst _hoisted_2 = {\n  class: \"option-tabs\"\n};\nconst _hoisted_3 = {\n  class: \"option-content\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"one-time-option\"\n};\nconst _hoisted_5 = {\n  class: \"price\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"original-price\"\n};\nconst _hoisted_7 = {\n  class: \"current-price\"\n};\nconst _hoisted_8 = {\n  class: \"actions\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"subscription-option\"\n};\nconst _hoisted_10 = {\n  class: \"price\"\n};\nconst _hoisted_11 = {\n  class: \"current-price\"\n};\nconst _hoisted_12 = {\n  class: \"interval\"\n};\nconst _hoisted_13 = {\n  class: \"actions\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"fas fa-check-circle\"\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"fas fa-exclamation-circle\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"tab\", {\n      active: $setup.selectedOption === 'one-time'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.selectedOption = 'one-time')\n  }, \" Engångsköp \", 2 /* CLASS */), $props.service.isSubscription ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"tab\", {\n      active: $setup.selectedOption === 'subscription'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $setup.selectedOption = 'subscription')\n  }, \" Prenumerera \", 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_3, [$setup.selectedOption === 'one-time' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [$props.service.discountedPrice ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($setup.formatPrice($props.service.price)) + \" kr\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($setup.formatPrice($props.service.discountedPrice || $props.service.price)) + \" kr\", 1 /* TEXT */)]), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"description\"\n  }, [_createElementVNode(\"p\", null, \"Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.addToCart('one-time')),\n    class: \"btn btn-primary\"\n  }, \"Lägg i kundvagn\")])])) : _createCommentVNode(\"v-if\", true), $setup.selectedOption === 'subscription' && $props.service.isSubscription ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString($setup.formatPrice($props.service.price)) + \" kr\", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, \"/ \" + _toDisplayString($props.service.subscriptionInterval), 1 /* TEXT */)]), _cache[5] || (_cache[5] = _createStaticVNode(\"<div class=\\\"description\\\" data-v-77d32783><p data-v-77d32783>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p><ul class=\\\"benefits\\\" data-v-77d32783><li data-v-77d32783><i class=\\\"fas fa-check\\\" data-v-77d32783></i><span data-v-77d32783>Automatisk leverans</span></li><li data-v-77d32783><i class=\\\"fas fa-check\\\" data-v-77d32783></i><span data-v-77d32783>Förmånligt prenumerationspris</span></li><li data-v-77d32783><i class=\\\"fas fa-check\\\" data-v-77d32783></i><span data-v-77d32783>Avsluta när du vill</span></li></ul></div>\", 1)), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.addToCart('subscription')),\n    class: \"btn btn-primary\"\n  }, \"Prenumerera nu\")])])) : _createCommentVNode(\"v-if\", true)]), $setup.showNotification ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"notification\", $setup.notificationType])\n  }, [$setup.notificationType === 'success' ? (_openBlock(), _createElementBlock(\"i\", _hoisted_14)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_15)), _createElementVNode(\"span\", null, _toDisplayString($setup.notificationMessage), 1 /* TEXT */)], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","active","$setup","selectedOption","onClick","_cache","$event","$props","service","isSubscription","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","discountedPrice","_hoisted_6","_toDisplayString","formatPrice","price","_hoisted_7","_hoisted_8","addToCart","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","subscriptionInterval","_createStaticVNode","_hoisted_13","showNotification","notificationType","_hoisted_14","_hoisted_15","notificationMessage"],"sources":["/home/dennis/medport/frontend/src/components/service/PurchaseOptions.vue"],"sourcesContent":["<template>\n    <div class=\"purchase-options\">\n      <div class=\"option-tabs\">\n        <div \n          class=\"tab\" \n          :class=\"{ active: selectedOption === 'one-time' }\" \n          @click=\"selectedOption = 'one-time'\"\n        >\n          Engångsköp\n        </div>\n        <div \n          v-if=\"service.isSubscription\"\n          class=\"tab\" \n          :class=\"{ active: selectedOption === 'subscription' }\" \n          @click=\"selectedOption = 'subscription'\"\n        >\n          Prenumerera\n        </div>\n      </div>\n      \n      <div class=\"option-content\">\n        <div v-if=\"selectedOption === 'one-time'\" class=\"one-time-option\">\n          <div class=\"price\">\n            <span v-if=\"service.discountedPrice\" class=\"original-price\">{{ formatPrice(service.price) }} kr</span>\n            <span class=\"current-price\">{{ formatPrice(service.discountedPrice || service.price) }} kr</span>\n          </div>\n          <div class=\"description\">\n            <p>Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.</p>\n          </div>\n          <div class=\"actions\">\n            <button @click=\"addToCart('one-time')\" class=\"btn btn-primary\">Lägg i kundvagn</button>\n          </div>\n        </div>\n        \n        <div v-if=\"selectedOption === 'subscription' && service.isSubscription\" class=\"subscription-option\">\n          <div class=\"price\">\n            <span class=\"current-price\">{{ formatPrice(service.price) }} kr</span>\n            <span class=\"interval\">/ {{ service.subscriptionInterval }}</span>\n          </div>\n          <div class=\"description\">\n            <p>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p>\n            <ul class=\"benefits\">\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Automatisk leverans</span>\n              </li>\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Förmånligt prenumerationspris</span>\n              </li>\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Avsluta när du vill</span>\n              </li>\n            </ul>\n          </div>\n          <div class=\"actions\">\n            <button @click=\"addToCart('subscription')\" class=\"btn btn-primary\">Prenumerera nu</button>\n          </div>\n        </div>\n      </div>\n      \n      <div v-if=\"showNotification\" class=\"notification\" :class=\"notificationType\">\n        <i v-if=\"notificationType === 'success'\" class=\"fas fa-check-circle\"></i>\n        <i v-else class=\"fas fa-exclamation-circle\"></i>\n        <span>{{ notificationMessage }}</span>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, watch } from 'vue';\n  import { useStore } from 'vuex';\n  \n  export default {\n    name: 'PurchaseOptions',\n    props: {\n      service: {\n        type: Object,\n        required: true\n      }\n    },\n    setup(props) {\n      const store = useStore();\n      const selectedOption = ref('one-time');\n      const showNotification = ref(false);\n      const notificationMessage = ref('');\n      const notificationType = ref('');\n      \n      // Reset selected option if service changes\n      watch(() => props.service, () => {\n        selectedOption.value = 'one-time';\n      });\n      \n      const formatPrice = (price) => {\n        return new Intl.NumberFormat('sv-SE').format(price);\n      };\n      \n      const addToCart = (purchaseType) => {\n        store.dispatch('cart/addToCart', {\n          service: props.service,\n          purchaseType\n        });\n        \n        // Show success notification\n        notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n        notificationType.value = 'success';\n        showNotification.value = true;\n        \n        // Hide notification after 3 seconds\n        setTimeout(() => {\n          showNotification.value = false;\n        }, 3000);\n      };\n      \n      return {\n        selectedOption,\n        showNotification,\n        notificationMessage,\n        notificationType,\n        formatPrice,\n        addToCart\n      };\n    }\n  };\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  .purchase-options {\n    position: relative;\n    \n    .option-tabs {\n      display: flex;\n      border-bottom: 1px solid #dee2e6;\n      margin-bottom: 1.5rem;\n      \n      .tab {\n        padding: 0.75rem 1.25rem;\n        cursor: pointer;\n        font-weight: 500;\n        color: #6c757d;\n        transition: $transition-base;\n        \n        &:hover {\n          color: $primary;\n        }\n        \n        &.active {\n          color: $primary;\n          border-bottom: 2px solid $primary;\n        }\n      }\n    }\n    \n    .option-content {\n      .one-time-option, .subscription-option {\n        padding: 1.5rem;\n        border: 1px solid #dee2e6;\n        border-radius: $border-radius;\n        margin-bottom: 1.5rem;\n        \n        .price {\n          margin-bottom: 1rem;\n          \n          .original-price {\n            text-decoration: line-through;\n            color: #6c757d;\n            margin-right: 0.5rem;\n            font-size: 1.1rem;\n          }\n          \n          .current-price {\n            font-weight: bold;\n            font-size: 1.8rem;\n            color: $primary;\n          }\n          \n          .interval {\n            font-size: 1rem;\n            color: #6c757d;\n          }\n        }\n        \n        .description {\n          margin-bottom: 1.5rem;\n          \n          p {\n            margin-bottom: 1rem;\n          }\n          \n          .benefits {\n            list-style: none;\n            padding: 0;\n            \n            li {\n              display: flex;\n              align-items: center;\n              margin-bottom: 0.75rem;\n              \n              i {\n                color: $primary;\n                margin-right: 0.75rem;\n              }\n            }\n          }\n        }\n        \n        .actions {\n          .btn {\n            width: 100%;\n            padding: 0.75rem;\n          }\n        }\n      }\n      \n      .subscription-option {\n        background-color: #f8f9fa;\n      }\n    }\n    \n    .notification {\n      position: absolute;\n      top: -3.5rem;\n      left: 0;\n      right: 0;\n      padding: 1rem;\n      border-radius: $border-radius;\n      display: flex;\n      align-items: center;\n      animation: slideDown 0.3s ease;\n      \n      &.success {\n        background-color: lighten($success, 40%);\n        border: 1px solid lighten($success, 30%);\n        color: darken($success, 10%);\n      }\n      \n      &.error {\n        background-color: lighten($danger, 40%);\n        border: 1px solid lighten($danger, 30%);\n        color: darken($danger, 10%);\n      }\n      \n      i {\n        margin-right: 0.75rem;\n        font-size: 1.25rem;\n      }\n    }\n  }\n  \n  @keyframes slideDown {\n    from {\n      transform: translateY(-20px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n  </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}