{"ast":null,"code":"import { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'PurchaseOptions',\n  props: {\n    service: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const selectedOption = ref('one-time');\n    const showNotification = ref(false);\n    const notificationMessage = ref('');\n    const notificationType = ref('');\n\n    // Reset selected option if service changes\n    watch(() => props.service, () => {\n      selectedOption.value = 'one-time';\n    });\n    const formatPrice = price => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    const addToCart = purchaseType => {\n      store.dispatch('cart/addToCart', {\n        service: props.service,\n        purchaseType\n      });\n\n      // Show success notification\n      notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n      notificationType.value = 'success';\n      showNotification.value = true;\n\n      // Hide notification after 3 seconds\n      setTimeout(() => {\n        showNotification.value = false;\n      }, 3000);\n    };\n    return {\n      selectedOption,\n      showNotification,\n      notificationMessage,\n      notificationType,\n      formatPrice,\n      addToCart\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useStore","name","props","service","type","Object","required","setup","store","selectedOption","showNotification","notificationMessage","notificationType","value","formatPrice","price","Intl","NumberFormat","format","addToCart","purchaseType","dispatch","setTimeout"],"sources":["/home/dennis/medport/frontend/src/components/service/PurchaseOptions.vue"],"sourcesContent":["<template>\n  <div class=\"purchase-options\">\n    <div class=\"option-tabs\">\n      <div \n        class=\"tab\" \n        :class=\"{ active: selectedOption === 'one-time' }\" \n        @click=\"selectedOption = 'one-time'\"\n      >\n        <i class=\"ri-shopping-cart-2-line\"></i> Engångsköp\n      </div>\n      <div \n        v-if=\"service.isSubscription\"\n        class=\"tab\" \n        :class=\"{ active: selectedOption === 'subscription' }\" \n        @click=\"selectedOption = 'subscription'\"\n      >\n        <i class=\"ri-repeat-line\"></i> Prenumerera\n      </div>\n    </div>\n    \n    <div class=\"option-content\">\n      <div v-if=\"selectedOption === 'one-time'\" class=\"one-time-option\">\n        <div class=\"price\">\n          <span v-if=\"service.discountedPrice\" class=\"original-price\">{{ formatPrice(service.price) }} kr</span>\n          <span class=\"current-price\">{{ formatPrice(service.discountedPrice || service.price) }} kr</span>\n        </div>\n        <div class=\"description\">\n          <p>Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.</p>\n        </div>\n        <div class=\"actions\">\n          <button @click=\"addToCart('one-time')\" class=\"btn btn-primary\">\n            <i class=\"ri-shopping-cart-2-line\"></i> Lägg i kundvagn\n          </button>\n        </div>\n      </div>\n      \n      <div v-if=\"selectedOption === 'subscription' && service.isSubscription\" class=\"subscription-option\">\n        <div class=\"price\">\n          <span class=\"current-price\">{{ formatPrice(service.price) }} kr</span>\n          <span class=\"interval\">/ {{ service.subscriptionInterval }}</span>\n        </div>\n        <div class=\"description\">\n          <p>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p>\n          <ul class=\"benefits\">\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Automatisk leverans</span>\n            </li>\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Förmånligt prenumerationspris</span>\n            </li>\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Avsluta när du vill</span>\n            </li>\n          </ul>\n        </div>\n        <div class=\"actions\">\n          <button @click=\"addToCart('subscription')\" class=\"btn btn-primary\">\n            <i class=\"ri-repeat-line\"></i> Prenumerera nu\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <div v-if=\"showNotification\" class=\"notification\" :class=\"notificationType\">\n      <i v-if=\"notificationType === 'success'\" class=\"ri-check-line\"></i>\n      <i v-else class=\"ri-error-warning-line\"></i>\n      <span>{{ notificationMessage }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\n\nexport default {\n  name: 'PurchaseOptions',\n  props: {\n    service: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const selectedOption = ref('one-time');\n    const showNotification = ref(false);\n    const notificationMessage = ref('');\n    const notificationType = ref('');\n    \n    // Reset selected option if service changes\n    watch(() => props.service, () => {\n      selectedOption.value = 'one-time';\n    });\n    \n    const formatPrice = (price) => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    \n    const addToCart = (purchaseType) => {\n      store.dispatch('cart/addToCart', {\n        service: props.service,\n        purchaseType\n      });\n      \n      // Show success notification\n      notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n      notificationType.value = 'success';\n      showNotification.value = true;\n      \n      // Hide notification after 3 seconds\n      setTimeout(() => {\n        showNotification.value = false;\n      }, 3000);\n    };\n    \n    return {\n      selectedOption,\n      showNotification,\n      notificationMessage,\n      notificationType,\n      formatPrice,\n      addToCart\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.purchase-options {\n  position: relative;\n  \n  .option-tabs {\n    display: flex;\n    border-bottom: 1px solid #e2e8f0;\n    margin-bottom: 1.5rem;\n    \n    .tab {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      padding: 1rem 1.5rem;\n      cursor: pointer;\n      font-weight: 600;\n      color: #64748b;\n      transition: $transition-base;\n      \n      i {\n        font-size: 1.25rem;\n      }\n      \n      &:hover {\n        color: $primary;\n      }\n      \n      &.active {\n        color: $primary;\n        border-bottom: 2px solid $primary;\n      }\n    }\n  }\n  \n  .option-content {\n    .one-time-option, .subscription-option {\n      padding: 1.75rem;\n      border-radius: $border-radius-lg;\n      margin-bottom: 1.5rem;\n      box-shadow: $box-shadow;\n      transition: $transition-base;\n      \n      &:hover {\n        box-shadow: $box-shadow-hover;\n      }\n      \n      .price {\n        margin-bottom: 1.25rem;\n        \n        .original-price {\n          text-decoration: line-through;\n          color: #64748b;\n          margin-right: 0.75rem;\n          font-size: 1.1rem;\n        }\n        \n        .current-price {\n          font-weight: 700;\n          font-size: 1.8rem;\n          color: $primary;\n        }\n        \n        .interval {\n          font-size: 1rem;\n          color: #64748b;\n        }\n      }\n      \n      .description {\n        margin-bottom: 1.75rem;\n        \n        p {\n          margin-bottom: 1.25rem;\n          color: #4a5568;\n          line-height: 1.6;\n        }\n        \n        .benefits {\n          list-style: none;\n          padding: 0;\n          \n          li {\n            display: flex;\n            align-items: flex-start;\n            margin-bottom: 0.875rem;\n            \n            i {\n              color: $primary;\n              margin-right: 0.875rem;\n              margin-top: 0.25rem;\n              font-size: 1.1rem;\n            }\n            \n            span {\n              flex: 1;\n              color: #4a5568;\n            }\n          }\n        }\n      }\n      \n      .actions {\n        .btn {\n          width: 100%;\n          padding: 0.875rem;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n          \n          i {\n            font-size: 1.2rem;\n          }\n        }\n      }\n    }\n    \n    .one-time-option {\n      background-color: $light;\n    }\n    \n    .subscription-option {\n      background-color: $primary-lighter;\n    }\n  }\n  \n  .notification {\n    position: absolute;\n    top: -4rem;\n    left: 0;\n    right: 0;\n    padding: 1rem 1.25rem;\n    border-radius: $border-radius-lg;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    animation: slideDown 0.3s ease;\n    box-shadow: $box-shadow;\n    \n    &.success {\n      background-color: lighten($success, 40%);\n      border-left: 4px solid $success;\n      color: darken($success, 10%);\n      \n      i {\n        color: $success;\n      }\n    }\n    \n    &.error {\n      background-color: lighten($danger, 40%);\n      border-left: 4px solid $danger;\n      color: darken($danger, 10%);\n      \n      i {\n        color: $danger;\n      }\n    }\n    \n    i {\n      font-size: 1.25rem;\n    }\n  }\n}\n\n@keyframes slideDown {\n  from {\n    transform: translateY(-20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n</style>"],"mappings":"AA2EA,SAASA,GAAG,EAAEC,KAAI,QAAS,KAAK;AAChC,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,cAAa,GAAIX,GAAG,CAAC,UAAU,CAAC;IACtC,MAAMY,gBAAe,GAAIZ,GAAG,CAAC,KAAK,CAAC;IACnC,MAAMa,mBAAkB,GAAIb,GAAG,CAAC,EAAE,CAAC;IACnC,MAAMc,gBAAe,GAAId,GAAG,CAAC,EAAE,CAAC;;IAEhC;IACAC,KAAK,CAAC,MAAMG,KAAK,CAACC,OAAO,EAAE,MAAM;MAC/BM,cAAc,CAACI,KAAI,GAAI,UAAU;IACnC,CAAC,CAAC;IAEF,MAAMC,WAAU,GAAKC,KAAK,IAAK;MAC7B,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD,CAAC;IAED,MAAMI,SAAQ,GAAKC,YAAY,IAAK;MAClCZ,KAAK,CAACa,QAAQ,CAAC,gBAAgB,EAAE;QAC/BlB,OAAO,EAAED,KAAK,CAACC,OAAO;QACtBiB;MACF,CAAC,CAAC;;MAEF;MACAT,mBAAmB,CAACE,KAAI,GAAI,uCAAuC;MACnED,gBAAgB,CAACC,KAAI,GAAI,SAAS;MAClCH,gBAAgB,CAACG,KAAI,GAAI,IAAI;;MAE7B;MACAS,UAAU,CAAC,MAAM;QACfZ,gBAAgB,CAACG,KAAI,GAAI,KAAK;MAChC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IAED,OAAO;MACLJ,cAAc;MACdC,gBAAgB;MAChBC,mBAAmB;MACnBC,gBAAgB;MAChBE,WAAW;MACXK;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}