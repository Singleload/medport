{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"purchase-options\"\n};\nconst _hoisted_2 = {\n  class: \"option-tabs\"\n};\nconst _hoisted_3 = {\n  class: \"option-content\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"one-time-option\"\n};\nconst _hoisted_5 = {\n  class: \"price\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"original-price\"\n};\nconst _hoisted_7 = {\n  class: \"current-price\"\n};\nconst _hoisted_8 = {\n  class: \"actions\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"subscription-option\"\n};\nconst _hoisted_10 = {\n  class: \"price\"\n};\nconst _hoisted_11 = {\n  class: \"current-price\"\n};\nconst _hoisted_12 = {\n  class: \"interval\"\n};\nconst _hoisted_13 = {\n  class: \"actions\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"ri-check-line\"\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"ri-error-warning-line\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"tab\", {\n      active: $setup.selectedOption === 'one-time'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.selectedOption = 'one-time')\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"ri-shopping-cart-2-line\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Engångsköp \")]), 2 /* CLASS */), $props.service.isSubscription ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"tab\", {\n      active: $setup.selectedOption === 'subscription'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $setup.selectedOption = 'subscription')\n  }, _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n    class: \"ri-repeat-line\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Prenumerera \")]), 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_3, [$setup.selectedOption === 'one-time' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [$props.service.discountedPrice ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($setup.formatPrice($props.service.price)) + \" kr\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($setup.formatPrice($props.service.discountedPrice || $props.service.price)) + \" kr\", 1 /* TEXT */)]), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"description\"\n  }, [_createElementVNode(\"p\", null, \"Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.addToCart('one-time')),\n    class: \"btn btn-primary\"\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    class: \"ri-shopping-cart-2-line\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Lägg i kundvagn \")]))])])) : _createCommentVNode(\"v-if\", true), $setup.selectedOption === 'subscription' && $props.service.isSubscription ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString($setup.formatPrice($props.service.price)) + \" kr\", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, \"/ \" + _toDisplayString($props.service.subscriptionInterval), 1 /* TEXT */)]), _cache[9] || (_cache[9] = _createStaticVNode(\"<div class=\\\"description\\\" data-v-77d32783><p data-v-77d32783>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p><ul class=\\\"benefits\\\" data-v-77d32783><li data-v-77d32783><i class=\\\"ri-check-line\\\" data-v-77d32783></i><span data-v-77d32783>Automatisk leverans</span></li><li data-v-77d32783><i class=\\\"ri-check-line\\\" data-v-77d32783></i><span data-v-77d32783>Förmånligt prenumerationspris</span></li><li data-v-77d32783><i class=\\\"ri-check-line\\\" data-v-77d32783></i><span data-v-77d32783>Avsluta när du vill</span></li></ul></div>\", 1)), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.addToCart('subscription')),\n    class: \"btn btn-primary\"\n  }, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n    class: \"ri-repeat-line\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Prenumerera nu \")]))])])) : _createCommentVNode(\"v-if\", true)]), $setup.showNotification ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"notification\", $setup.notificationType])\n  }, [$setup.notificationType === 'success' ? (_openBlock(), _createElementBlock(\"i\", _hoisted_14)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_15)), _createElementVNode(\"span\", null, _toDisplayString($setup.notificationMessage), 1 /* TEXT */)], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","active","$setup","selectedOption","onClick","_cache","$event","_createTextVNode","$props","service","isSubscription","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","discountedPrice","_hoisted_6","_toDisplayString","formatPrice","price","_hoisted_7","_hoisted_8","addToCart","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","subscriptionInterval","_createStaticVNode","_hoisted_13","showNotification","notificationType","_hoisted_14","_hoisted_15","notificationMessage"],"sources":["/home/dennis/medport/frontend/src/components/service/PurchaseOptions.vue"],"sourcesContent":["<template>\n  <div class=\"purchase-options\">\n    <div class=\"option-tabs\">\n      <div \n        class=\"tab\" \n        :class=\"{ active: selectedOption === 'one-time' }\" \n        @click=\"selectedOption = 'one-time'\"\n      >\n        <i class=\"ri-shopping-cart-2-line\"></i> Engångsköp\n      </div>\n      <div \n        v-if=\"service.isSubscription\"\n        class=\"tab\" \n        :class=\"{ active: selectedOption === 'subscription' }\" \n        @click=\"selectedOption = 'subscription'\"\n      >\n        <i class=\"ri-repeat-line\"></i> Prenumerera\n      </div>\n    </div>\n    \n    <div class=\"option-content\">\n      <div v-if=\"selectedOption === 'one-time'\" class=\"one-time-option\">\n        <div class=\"price\">\n          <span v-if=\"service.discountedPrice\" class=\"original-price\">{{ formatPrice(service.price) }} kr</span>\n          <span class=\"current-price\">{{ formatPrice(service.discountedPrice || service.price) }} kr</span>\n        </div>\n        <div class=\"description\">\n          <p>Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.</p>\n        </div>\n        <div class=\"actions\">\n          <button @click=\"addToCart('one-time')\" class=\"btn btn-primary\">\n            <i class=\"ri-shopping-cart-2-line\"></i> Lägg i kundvagn\n          </button>\n        </div>\n      </div>\n      \n      <div v-if=\"selectedOption === 'subscription' && service.isSubscription\" class=\"subscription-option\">\n        <div class=\"price\">\n          <span class=\"current-price\">{{ formatPrice(service.price) }} kr</span>\n          <span class=\"interval\">/ {{ service.subscriptionInterval }}</span>\n        </div>\n        <div class=\"description\">\n          <p>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p>\n          <ul class=\"benefits\">\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Automatisk leverans</span>\n            </li>\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Förmånligt prenumerationspris</span>\n            </li>\n            <li>\n              <i class=\"ri-check-line\"></i>\n              <span>Avsluta när du vill</span>\n            </li>\n          </ul>\n        </div>\n        <div class=\"actions\">\n          <button @click=\"addToCart('subscription')\" class=\"btn btn-primary\">\n            <i class=\"ri-repeat-line\"></i> Prenumerera nu\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <div v-if=\"showNotification\" class=\"notification\" :class=\"notificationType\">\n      <i v-if=\"notificationType === 'success'\" class=\"ri-check-line\"></i>\n      <i v-else class=\"ri-error-warning-line\"></i>\n      <span>{{ notificationMessage }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\n\nexport default {\n  name: 'PurchaseOptions',\n  props: {\n    service: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const selectedOption = ref('one-time');\n    const showNotification = ref(false);\n    const notificationMessage = ref('');\n    const notificationType = ref('');\n    \n    // Reset selected option if service changes\n    watch(() => props.service, () => {\n      selectedOption.value = 'one-time';\n    });\n    \n    const formatPrice = (price) => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    \n    const addToCart = (purchaseType) => {\n      store.dispatch('cart/addToCart', {\n        service: props.service,\n        purchaseType\n      });\n      \n      // Show success notification\n      notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n      notificationType.value = 'success';\n      showNotification.value = true;\n      \n      // Hide notification after 3 seconds\n      setTimeout(() => {\n        showNotification.value = false;\n      }, 3000);\n    };\n    \n    return {\n      selectedOption,\n      showNotification,\n      notificationMessage,\n      notificationType,\n      formatPrice,\n      addToCart\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.purchase-options {\n  position: relative;\n  \n  .option-tabs {\n    display: flex;\n    border-bottom: 1px solid #e2e8f0;\n    margin-bottom: 1.5rem;\n    \n    .tab {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      padding: 1rem 1.5rem;\n      cursor: pointer;\n      font-weight: 600;\n      color: #64748b;\n      transition: $transition-base;\n      \n      i {\n        font-size: 1.25rem;\n      }\n      \n      &:hover {\n        color: $primary;\n      }\n      \n      &.active {\n        color: $primary;\n        border-bottom: 2px solid $primary;\n      }\n    }\n  }\n  \n  .option-content {\n    .one-time-option, .subscription-option {\n      padding: 1.75rem;\n      border-radius: $border-radius-lg;\n      margin-bottom: 1.5rem;\n      box-shadow: $box-shadow;\n      transition: $transition-base;\n      \n      &:hover {\n        box-shadow: $box-shadow-hover;\n      }\n      \n      .price {\n        margin-bottom: 1.25rem;\n        \n        .original-price {\n          text-decoration: line-through;\n          color: #64748b;\n          margin-right: 0.75rem;\n          font-size: 1.1rem;\n        }\n        \n        .current-price {\n          font-weight: 700;\n          font-size: 1.8rem;\n          color: $primary;\n        }\n        \n        .interval {\n          font-size: 1rem;\n          color: #64748b;\n        }\n      }\n      \n      .description {\n        margin-bottom: 1.75rem;\n        \n        p {\n          margin-bottom: 1.25rem;\n          color: #4a5568;\n          line-height: 1.6;\n        }\n        \n        .benefits {\n          list-style: none;\n          padding: 0;\n          \n          li {\n            display: flex;\n            align-items: flex-start;\n            margin-bottom: 0.875rem;\n            \n            i {\n              color: $primary;\n              margin-right: 0.875rem;\n              margin-top: 0.25rem;\n              font-size: 1.1rem;\n            }\n            \n            span {\n              flex: 1;\n              color: #4a5568;\n            }\n          }\n        }\n      }\n      \n      .actions {\n        .btn {\n          width: 100%;\n          padding: 0.875rem;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n          \n          i {\n            font-size: 1.2rem;\n          }\n        }\n      }\n    }\n    \n    .one-time-option {\n      background-color: $light;\n    }\n    \n    .subscription-option {\n      background-color: $primary-lighter;\n    }\n  }\n  \n  .notification {\n    position: absolute;\n    top: -4rem;\n    left: 0;\n    right: 0;\n    padding: 1rem 1.25rem;\n    border-radius: $border-radius-lg;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    animation: slideDown 0.3s ease;\n    box-shadow: $box-shadow;\n    \n    &.success {\n      background-color: lighten($success, 40%);\n      border-left: 4px solid $success;\n      color: darken($success, 10%);\n      \n      i {\n        color: $success;\n      }\n    }\n    \n    &.error {\n      background-color: lighten($danger, 40%);\n      border-left: 4px solid $danger;\n      color: darken($danger, 10%);\n      \n      i {\n        color: $danger;\n      }\n    }\n    \n    i {\n      font-size: 1.25rem;\n    }\n  }\n}\n\n@keyframes slideDown {\n  from {\n    transform: translateY(-20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}