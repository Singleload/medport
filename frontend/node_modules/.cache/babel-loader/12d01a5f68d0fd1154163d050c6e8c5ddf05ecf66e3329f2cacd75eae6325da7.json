{"ast":null,"code":"import { ref, computed, onMounted, onBeforeUnmount } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'AppNavbar',\n  setup() {\n    const store = useStore();\n    const showCartDropdown = ref(false);\n    const cartItems = computed(() => store.getters['cart/cartItems']);\n    const cartItemCount = computed(() => store.getters['cart/cartItemCount']);\n    const cartTotal = computed(() => store.getters['cart/cartTotal']);\n    const toggleCart = () => {\n      showCartDropdown.value = !showCartDropdown.value;\n    };\n    const closeCart = e => {\n      if (!e.target.closest('.cart-icon')) {\n        showCartDropdown.value = false;\n      }\n    };\n    const formatPrice = price => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n\n    // Close cart dropdown when clicking outside\n    onMounted(() => {\n      document.addEventListener('click', closeCart);\n    });\n    onBeforeUnmount(() => {\n      document.removeEventListener('click', closeCart);\n    });\n    return {\n      showCartDropdown,\n      cartItems,\n      cartItemCount,\n      cartTotal,\n      toggleCart,\n      formatPrice\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onBeforeUnmount","useStore","name","setup","store","showCartDropdown","cartItems","getters","cartItemCount","cartTotal","toggleCart","value","closeCart","e","target","closest","formatPrice","price","Intl","NumberFormat","format","document","addEventListener","removeEventListener"],"sources":["/home/dennis/medport/frontend/src/components/common/AppNavbar.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar\">\n      <div class=\"container\">\n        <div class=\"navbar-content\">\n          <router-link to=\"/\" class=\"navbar-brand\">\n            <img src=\"@/assets/images/logo.png\" alt=\"Svensk Hälsovård\" />\n          </router-link>\n          \n          <div class=\"nav-links\">\n            <router-link to=\"/\" class=\"nav-link\">Hem</router-link>\n            <router-link to=\"/contact\" class=\"nav-link\">Kontakt</router-link>\n          </div>\n          \n          <div class=\"navbar-actions\">\n            <div class=\"cart-icon\" @click=\"toggleCart\">\n              <i class=\"fas fa-shopping-cart\"></i>\n              <span v-if=\"cartItemCount > 0\" class=\"badge\">{{ cartItemCount }}</span>\n              \n              <!-- Cart Dropdown -->\n              <div v-if=\"showCartDropdown\" class=\"cart-dropdown\">\n                <div v-if=\"cartItems.length === 0\" class=\"empty-cart\">\n                  <p>Din varukorg är tom</p>\n                </div>\n                <div v-else>\n                  <div class=\"cart-items\">\n                    <div v-for=\"item in cartItems\" :key=\"item.id\" class=\"cart-item\">\n                      <div class=\"item-info\">\n                        <h4>{{ item.service.name }}</h4>\n                        <p>\n                          {{ item.purchaseType === 'subscription' ? 'Prenumeration' : 'Engångsköp' }}\n                        </p>\n                      </div>\n                      <div class=\"item-price\">\n                        <p>{{ formatPrice(item.service.discountedPrice || item.service.price) }} kr</p>\n                        <p v-if=\"item.quantity > 1\">x{{ item.quantity }}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"cart-footer\">\n                    <div class=\"cart-total\">\n                      <p>Totalt: {{ formatPrice(cartTotal) }} kr</p>\n                    </div>\n                    <div class=\"cart-actions\">\n                      <router-link to=\"/cart\" class=\"btn btn-secondary\" @click=\"showCartDropdown = false\">\n                        Visa varukorg\n                      </router-link>\n                      <router-link to=\"/checkout\" class=\"btn btn-primary\" @click=\"showCartDropdown = false\">\n                        Till kassan\n                      </router-link>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"user-icon\">\n              <i class=\"fas fa-user\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n  </template>\n  \n  <script>\n  import { ref, computed, onMounted, onBeforeUnmount } from 'vue';\n  import { useStore } from 'vuex';\n  \n  export default {\n    name: 'AppNavbar',\n    setup() {\n      const store = useStore();\n      const showCartDropdown = ref(false);\n      \n      const cartItems = computed(() => store.getters['cart/cartItems']);\n      const cartItemCount = computed(() => store.getters['cart/cartItemCount']);\n      const cartTotal = computed(() => store.getters['cart/cartTotal']);\n      \n      const toggleCart = () => {\n        showCartDropdown.value = !showCartDropdown.value;\n      };\n      \n      const closeCart = (e) => {\n        if (!e.target.closest('.cart-icon')) {\n          showCartDropdown.value = false;\n        }\n      };\n      \n      const formatPrice = (price) => {\n        return new Intl.NumberFormat('sv-SE').format(price);\n      };\n      \n      // Close cart dropdown when clicking outside\n      onMounted(() => {\n        document.addEventListener('click', closeCart);\n      });\n      \n      onBeforeUnmount(() => {\n        document.removeEventListener('click', closeCart);\n      });\n      \n      return {\n        showCartDropdown,\n        cartItems,\n        cartItemCount,\n        cartTotal,\n        toggleCart,\n        formatPrice\n      };\n    }\n  };\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  .navbar {\n    position: sticky;\n    top: 0;\n    z-index: 1000;\n    \n    .navbar-content {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 1rem 0;\n    }\n    \n    .navbar-brand {\n      img {\n        height: 40px;\n      }\n    }\n    \n    .nav-links {\n      display: flex;\n      gap: 1.5rem;\n      \n      .nav-link {\n        color: $dark;\n        font-weight: 500;\n        \n        &:hover, &.router-link-active {\n          color: $primary;\n        }\n      }\n    }\n    \n    .navbar-actions {\n      display: flex;\n      align-items: center;\n      gap: 1.5rem;\n      \n      .cart-icon, .user-icon {\n        position: relative;\n        font-size: 1.25rem;\n        cursor: pointer;\n        \n        &:hover {\n          color: $primary;\n        }\n        \n        .badge {\n          position: absolute;\n          top: -8px;\n          right: -8px;\n          background-color: $primary;\n          color: white;\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 0.75rem;\n        }\n      }\n    }\n    \n    .cart-dropdown {\n      position: absolute;\n      top: 100%;\n      right: 0;\n      width: 320px;\n      background-color: white;\n      border-radius: $border-radius;\n      box-shadow: $box-shadow;\n      padding: 1rem;\n      margin-top: 0.5rem;\n      z-index: 1000;\n      \n      .empty-cart {\n        text-align: center;\n        padding: 1rem;\n      }\n      \n      .cart-items {\n        max-height: 300px;\n        overflow-y: auto;\n        \n        .cart-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 0.75rem 0;\n          border-bottom: 1px solid #eee;\n          \n          &:last-child {\n            border-bottom: none;\n          }\n          \n          .item-info {\n            flex: 1;\n            \n            h4 {\n              font-size: 0.9rem;\n              margin-bottom: 0.25rem;\n            }\n            \n            p {\n              font-size: 0.8rem;\n              color: #666;\n              margin: 0;\n            }\n          }\n          \n          .item-price {\n            text-align: right;\n            \n            p {\n              margin: 0;\n              font-size: 0.9rem;\n            }\n          }\n        }\n      }\n      \n      .cart-footer {\n        margin-top: 1rem;\n        \n        .cart-total {\n          display: flex;\n          justify-content: space-between;\n          font-weight: bold;\n          margin-bottom: 1rem;\n        }\n        \n        .cart-actions {\n          display: flex;\n          gap: 0.5rem;\n          \n          .btn {\n            flex: 1;\n            font-size: 0.9rem;\n          }\n        }\n      }\n    }\n  }\n  \n  @media (max-width: $breakpoint-md) {\n    .navbar {\n      .nav-links {\n        display: none;\n      }\n    }\n  }\n  </style>"],"mappings":"AAiEE,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,eAAc,QAAS,KAAK;AAC/D,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,gBAAe,GAAIR,GAAG,CAAC,KAAK,CAAC;IAEnC,MAAMS,SAAQ,GAAIR,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,gBAAgB,CAAC,CAAC;IACjE,MAAMC,aAAY,GAAIV,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,oBAAoB,CAAC,CAAC;IACzE,MAAME,SAAQ,GAAIX,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,gBAAgB,CAAC,CAAC;IAEjE,MAAMG,UAAS,GAAIA,CAAA,KAAM;MACvBL,gBAAgB,CAACM,KAAI,GAAI,CAACN,gBAAgB,CAACM,KAAK;IAClD,CAAC;IAED,MAAMC,SAAQ,GAAKC,CAAC,IAAK;MACvB,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,YAAY,CAAC,EAAE;QACnCV,gBAAgB,CAACM,KAAI,GAAI,KAAK;MAChC;IACF,CAAC;IAED,MAAMK,WAAU,GAAKC,KAAK,IAAK;MAC7B,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD,CAAC;;IAED;IACAlB,SAAS,CAAC,MAAM;MACdsB,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEV,SAAS,CAAC;IAC/C,CAAC,CAAC;IAEFZ,eAAe,CAAC,MAAM;MACpBqB,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEX,SAAS,CAAC;IAClD,CAAC,CAAC;IAEF,OAAO;MACLP,gBAAgB;MAChBC,SAAS;MACTE,aAAa;MACbC,SAAS;MACTC,UAAU;MACVM;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}