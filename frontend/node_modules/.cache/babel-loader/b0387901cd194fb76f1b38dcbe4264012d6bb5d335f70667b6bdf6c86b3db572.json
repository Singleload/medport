{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"checkout-page\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"empty-checkout\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"checkout-success\"\n};\nconst _hoisted_5 = {\n  class: \"order-details\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"checkout-content\"\n};\nconst _hoisted_7 = {\n  class: \"checkout-form-section\"\n};\nconst _hoisted_8 = {\n  class: \"form-row\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = {\n  class: \"form-group\"\n};\nconst _hoisted_14 = {\n  class: \"form-row\"\n};\nconst _hoisted_15 = {\n  class: \"form-group\"\n};\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_19 = {\n  class: \"alert-content\"\n};\nconst _hoisted_20 = {\n  class: \"form-actions\"\n};\nconst _hoisted_21 = [\"disabled\"];\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  key: 1\n};\nconst _hoisted_24 = {\n  class: \"checkout-summary\"\n};\nconst _hoisted_25 = {\n  class: \"summary-content\"\n};\nconst _hoisted_26 = {\n  class: \"summary-items\"\n};\nconst _hoisted_27 = {\n  class: \"item-info\"\n};\nconst _hoisted_28 = {\n  key: 0\n};\nconst _hoisted_29 = {\n  class: \"item-price\"\n};\nconst _hoisted_30 = {\n  class: \"summary-totals\"\n};\nconst _hoisted_31 = {\n  class: \"summary-row\"\n};\nconst _hoisted_32 = {\n  class: \"summary-row total\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[35] || (_cache[35] = _createElementVNode(\"h1\", null, \"Kassa\", -1 /* HOISTED */)), $setup.cartItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"icon\"\n  }, [_createElementVNode(\"i\", {\n    class: \"ri-shopping-cart-2-line\"\n  })], -1 /* HOISTED */)), _cache[11] || (_cache[11] = _createElementVNode(\"h2\", null, \"Din kundvagn är tom\", -1 /* HOISTED */)), _cache[12] || (_cache[12] = _createElementVNode(\"p\", null, \"Du behöver lägga till artiklar i din kundvagn innan du kan gå till kassan.\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Tillbaka till butiken\")])),\n    _: 1 /* STABLE */\n  })])) : $setup.checkoutComplete ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"success-icon\"\n  }, [_createElementVNode(\"i\", {\n    class: \"ri-checkbox-circle-line\"\n  })], -1 /* HOISTED */)), _cache[16] || (_cache[16] = _createElementVNode(\"h2\", null, \"Tack för din beställning!\", -1 /* HOISTED */)), _cache[17] || (_cache[17] = _createElementVNode(\"p\", null, \"Din order har mottagits och behandlas nu.\", -1 /* HOISTED */)), _cache[18] || (_cache[18] = _createElementVNode(\"p\", null, \"Orderbekräftelse har skickats till din e-post.\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Ordernummer:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.bookingId), 1 /* TEXT */)])]), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\"Tillbaka till butiken\")])),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[30] || (_cache[30] = _createElementVNode(\"h2\", null, \"Dina uppgifter\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $setup.submitCheckout && $setup.submitCheckout(...args), [\"prevent\"])),\n    class: \"checkout-form\"\n  }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    for: \"firstName\"\n  }, \"Förnamn *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"firstName\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.customer.firstName = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.firstName]])]), _createElementVNode(\"div\", _hoisted_10, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    for: \"lastName\"\n  }, \"Efternamn *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"lastName\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.customer.lastName = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.lastName]])])]), _createElementVNode(\"div\", _hoisted_11, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"E-post *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.customer.email = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.email]])]), _createElementVNode(\"div\", _hoisted_12, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    for: \"phone\"\n  }, \"Telefon *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    id: \"phone\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.customer.phone = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.phone]])]), _createElementVNode(\"div\", _hoisted_13, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    for: \"streetAddress\"\n  }, \"Gatuadress *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"streetAddress\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.customer.streetAddress = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.streetAddress]])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    for: \"postalCode\"\n  }, \"Postnummer *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"postalCode\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.customer.postalCode = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.postalCode]])]), _createElementVNode(\"div\", _hoisted_16, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n    for: \"city\"\n  }, \"Ort *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"city\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.customer.city = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.city]])])]), _createElementVNode(\"div\", _hoisted_17, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n    for: \"additionalInfo\"\n  }, \"Ytterligare information (valfritt)\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"additionalInfo\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.customer.additionalInfo = $event),\n    class: \"form-control\",\n    rows: \"3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customer.additionalInfo]])]), _cache[29] || (_cache[29] = _createStaticVNode(\"<div class=\\\"form-group payment-selection\\\"><h3>Betalningsmetod</h3><p>All betalning hanteras säkert via Svea Ekonomi.</p><div class=\\\"payment-logos\\\"><span>Svea Ekonomi</span><i class=\\\"ri-bank-card-line\\\"></i><i class=\\\"ri-mastercard-line\\\"></i><i class=\\\"ri-visa-line\\\"></i></div></div>\", 1)), $setup.checkoutError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_cache[27] || (_cache[27] = _createElementVNode(\"div\", {\n    class: \"alert-icon\"\n  }, [_createElementVNode(\"i\", {\n    class: \"ri-error-warning-line\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_19, _toDisplayString($setup.checkoutError), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\",\n    disabled: $setup.isLoading\n  }, [$setup.isLoading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_22, _cache[28] || (_cache[28] = [_createElementVNode(\"i\", {\n    class: \"ri-loader-4-line ri-spin\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Bearbetar... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \" Slutför beställning \"))], 8 /* PROPS */, _hoisted_21)])], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_24, [_cache[34] || (_cache[34] = _createElementVNode(\"h2\", null, \"Ordersammanfattning\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cartItems, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id,\n      class: \"summary-item\"\n    }, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h4\", null, _toDisplayString(item.service.name), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(item.purchaseType === 'subscription' ? 'Prenumeration' : 'Engångsköp'), 1 /* TEXT */), item.quantity > 1 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_28, _toDisplayString(item.quantity) + \" st\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_29, _toDisplayString($setup.formatPrice($setup.getItemPrice(item))) + \" kr \", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_cache[31] || (_cache[31] = _createElementVNode(\"span\", null, \"Delsumma\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.formatPrice($setup.cartTotal)) + \" kr\", 1 /* TEXT */)]), _cache[33] || (_cache[33] = _createElementVNode(\"div\", {\n    class: \"summary-row\"\n  }, [_createElementVNode(\"span\", null, \"Leverans\"), _createElementVNode(\"span\", null, \"Ingår\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_32, [_cache[32] || (_cache[32] = _createElementVNode(\"span\", null, \"Totalt\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.formatPrice($setup.cartTotal)) + \" kr\", 1 /* TEXT */)])])])])]))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$setup","cartItems","length","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","checkoutComplete","_hoisted_4","_hoisted_5","_toDisplayString","bookingId","_hoisted_6","_hoisted_7","onSubmit","_withModifiers","args","submitCheckout","_hoisted_8","_hoisted_9","for","type","id","$event","customer","firstName","required","_hoisted_10","lastName","_hoisted_11","email","_hoisted_12","phone","_hoisted_13","streetAddress","_hoisted_14","_hoisted_15","postalCode","_hoisted_16","city","_hoisted_17","additionalInfo","rows","_createStaticVNode","checkoutError","_hoisted_18","_hoisted_19","_createCommentVNode","_hoisted_20","disabled","isLoading","_hoisted_22","_hoisted_23","_hoisted_21","_hoisted_24","_hoisted_25","_hoisted_26","_Fragment","_renderList","item","_hoisted_27","service","name","purchaseType","quantity","_hoisted_28","_hoisted_29","formatPrice","getItemPrice","_hoisted_30","_hoisted_31","cartTotal","_hoisted_32"],"sources":["/home/dennis/medport/frontend/src/views/CheckoutPage.vue"],"sourcesContent":["<template>\n  <div class=\"checkout-page\">\n    <div class=\"container\">\n      <h1>Kassa</h1>\n\n      <div v-if=\"cartItems.length === 0\" class=\"empty-checkout\">\n        <div class=\"icon\">\n          <i class=\"ri-shopping-cart-2-line\"></i>\n        </div>\n        <h2>Din kundvagn är tom</h2>\n        <p>Du behöver lägga till artiklar i din kundvagn innan du kan gå till kassan.</p>\n        <router-link to=\"/\" class=\"btn btn-primary\">Tillbaka till butiken</router-link>\n      </div>\n\n      <div v-else-if=\"checkoutComplete\" class=\"checkout-success\">\n        <div class=\"success-icon\">\n          <i class=\"ri-checkbox-circle-line\"></i>\n        </div>\n        <h2>Tack för din beställning!</h2>\n        <p>Din order har mottagits och behandlas nu.</p>\n        <p>Orderbekräftelse har skickats till din e-post.</p>\n        <div class=\"order-details\">\n          <p><strong>Ordernummer:</strong> {{ bookingId }}</p>\n        </div>\n        <router-link to=\"/\" class=\"btn btn-primary\">Tillbaka till butiken</router-link>\n      </div>\n\n      <div v-else class=\"checkout-content\">\n        <div class=\"checkout-form-section\">\n          <h2>Dina uppgifter</h2>\n\n          <form @submit.prevent=\"submitCheckout\" class=\"checkout-form\">\n            <div class=\"form-row\">\n              <div class=\"form-group\">\n                <label for=\"firstName\">Förnamn *</label>\n                <input \n                  type=\"text\" \n                  id=\"firstName\" \n                  v-model=\"customer.firstName\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"lastName\">Efternamn *</label>\n                <input \n                  type=\"text\" \n                  id=\"lastName\" \n                  v-model=\"customer.lastName\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"email\">E-post *</label>\n              <input \n                type=\"email\" \n                id=\"email\" \n                v-model=\"customer.email\" \n                class=\"form-control\" \n                required\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"phone\">Telefon *</label>\n              <input \n                type=\"tel\" \n                id=\"phone\" \n                v-model=\"customer.phone\" \n                class=\"form-control\" \n                required\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"streetAddress\">Gatuadress *</label>\n              <input \n                type=\"text\" \n                id=\"streetAddress\" \n                v-model=\"customer.streetAddress\" \n                class=\"form-control\" \n                required\n              >\n            </div>\n\n            <div class=\"form-row\">\n              <div class=\"form-group\">\n                <label for=\"postalCode\">Postnummer *</label>\n                <input \n                  type=\"text\" \n                  id=\"postalCode\" \n                  v-model=\"customer.postalCode\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"city\">Ort *</label>\n                <input \n                  type=\"text\" \n                  id=\"city\" \n                  v-model=\"customer.city\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"additionalInfo\">Ytterligare information (valfritt)</label>\n              <textarea \n                id=\"additionalInfo\" \n                v-model=\"customer.additionalInfo\" \n                class=\"form-control\"\n                rows=\"3\"\n              ></textarea>\n            </div>\n\n            <div class=\"form-group payment-selection\">\n              <h3>Betalningsmetod</h3>\n              <p>All betalning hanteras säkert via Svea Ekonomi.</p>\n              <div class=\"payment-logos\">\n                <span>Svea Ekonomi</span>\n                <i class=\"ri-bank-card-line\"></i>\n                <i class=\"ri-mastercard-line\"></i>\n                <i class=\"ri-visa-line\"></i>\n              </div>\n            </div>\n\n            <div v-if=\"checkoutError\" class=\"alert alert-danger\">\n              <div class=\"alert-icon\">\n                <i class=\"ri-error-warning-line\"></i>\n              </div>\n              <div class=\"alert-content\">\n                {{ checkoutError }}\n              </div>\n            </div>\n\n            <div class=\"form-actions\">\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isLoading\">\n                <span v-if=\"isLoading\">\n                  <i class=\"ri-loader-4-line ri-spin\"></i> Bearbetar...\n                </span>\n                <span v-else>\n                  Slutför beställning\n                </span>\n              </button>\n            </div>\n          </form>\n        </div>\n\n        <div class=\"checkout-summary\">\n          <h2>Ordersammanfattning</h2>\n          \n          <div class=\"summary-content\">\n            <div class=\"summary-items\">\n              <div v-for=\"item in cartItems\" :key=\"item.id\" class=\"summary-item\">\n                <div class=\"item-info\">\n                  <h4>{{ item.service.name }}</h4>\n                  <p>{{ item.purchaseType === 'subscription' ? 'Prenumeration' : 'Engångsköp' }}</p>\n                  <p v-if=\"item.quantity > 1\">{{ item.quantity }} st</p>\n                </div>\n                <div class=\"item-price\">\n                  {{ formatPrice(getItemPrice(item)) }} kr\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"summary-totals\">\n              <div class=\"summary-row\">\n                <span>Delsumma</span>\n                <span>{{ formatPrice(cartTotal) }} kr</span>\n              </div>\n              \n              <div class=\"summary-row\">\n                <span>Leverans</span>\n                <span>Ingår</span>\n              </div>\n              \n              <div class=\"summary-row total\">\n                <span>Totalt</span>\n                <span>{{ formatPrice(cartTotal) }} kr</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'CheckoutPage',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    \n    const customer = ref({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      streetAddress: '',\n      postalCode: '',\n      city: '',\n      additionalInfo: ''\n    });\n    \n    const checkoutError = ref(null);\n    const isLoading = computed(() => store.getters.isLoading);\n    const cartItems = computed(() => store.getters['cart/cartItems']);\n    const cartTotal = computed(() => store.getters['cart/cartTotal']);\n    const paymentStatus = computed(() => store.getters['checkout/paymentStatus']);\n    const bookingStatus = computed(() => store.getters['checkout/bookingStatus']);\n    const bookingId = computed(() => store.getters['checkout/bookingId']);\n    const checkoutComplete = computed(() => store.getters['checkout/isCheckoutComplete']);\n    \n    // Load customer data from store if available\n    onMounted(() => {\n      const savedCustomer = store.getters['checkout/customer'];\n      if (savedCustomer.firstName) {\n        customer.value = { ...savedCustomer };\n      }\n      \n      // Redirect to home if cart is empty\n      if (cartItems.value.length === 0 && !checkoutComplete.value) {\n        router.push('/');\n      }\n    });\n    \n    // Watch for payment or booking errors\n    watch(() => store.getters['checkout/paymentError'], (error) => {\n      if (error) {\n        checkoutError.value = `Betalningsfel: ${error}`;\n      }\n    });\n    \n    watch(() => store.getters['checkout/bookingError'], (error) => {\n      if (error) {\n        checkoutError.value = `Bokningsfel: ${error}`;\n      }\n    });\n    \n    const formatPrice = (price) => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    \n    const getItemPrice = (item) => {\n      const unitPrice = item.service.discountedPrice || item.service.price;\n      return unitPrice * item.quantity;\n    };\n    \n    const submitCheckout = async () => {\n      try {\n        checkoutError.value = null;\n        \n        // Save customer data to store\n        await store.dispatch('checkout/updateCustomer', customer.value);\n        \n        // Initiate checkout\n        const checkoutResponse = await store.dispatch('checkout/initiateCheckout');\n        \n        // Process payment with Svea Ekonomi\n        // In a real application, this would redirect to Svea's payment page\n        // For this implementation, we'll simulate a successful payment\n        await store.dispatch('checkout/processPayment', {\n          paymentMethod: 'card', // This would normally come from Svea\n          paymentReference: checkoutResponse.paymentId\n        });\n        \n        // At this point, the backend would create the booking after payment confirmation\n        // This is handled in the checkout store module's processPayment action\n        \n        // Set document title\n        document.title = 'Beställning bekräftad - Svensk Hälsovård';\n        \n      } catch (error) {\n        console.error('Checkout error:', error);\n        checkoutError.value = error.message || 'Ett fel uppstod vid beställningen. Försök igen senare.';\n      }\n    };\n    \n    return {\n      customer,\n      cartItems,\n      cartTotal,\n      checkoutError,\n      isLoading,\n      paymentStatus,\n      bookingStatus,\n      bookingId,\n      checkoutComplete,\n      formatPrice,\n      getItemPrice,\n      submitCheckout\n    };\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}