{"ast":null,"code":"import { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'PurchaseOptions',\n  props: {\n    service: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const selectedOption = ref('one-time');\n    const showNotification = ref(false);\n    const notificationMessage = ref('');\n    const notificationType = ref('');\n\n    // Reset selected option if service changes\n    watch(() => props.service, () => {\n      selectedOption.value = 'one-time';\n    });\n    const formatPrice = price => {\n      return new Intl.NumberFormat('sv-SE').format(price);\n    };\n    const addToCart = purchaseType => {\n      store.dispatch('cart/addToCart', {\n        service: props.service,\n        purchaseType\n      });\n\n      // Show success notification\n      notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n      notificationType.value = 'success';\n      showNotification.value = true;\n\n      // Hide notification after 3 seconds\n      setTimeout(() => {\n        showNotification.value = false;\n      }, 3000);\n    };\n    return {\n      selectedOption,\n      showNotification,\n      notificationMessage,\n      notificationType,\n      formatPrice,\n      addToCart\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useStore","name","props","service","type","Object","required","setup","store","selectedOption","showNotification","notificationMessage","notificationType","value","formatPrice","price","Intl","NumberFormat","format","addToCart","purchaseType","dispatch","setTimeout"],"sources":["/home/dennis/medport/frontend/src/components/service/PurchaseOptions.vue"],"sourcesContent":["<template>\n    <div class=\"purchase-options\">\n      <div class=\"option-tabs\">\n        <div \n          class=\"tab\" \n          :class=\"{ active: selectedOption === 'one-time' }\" \n          @click=\"selectedOption = 'one-time'\"\n        >\n          Engångsköp\n        </div>\n        <div \n          v-if=\"service.isSubscription\"\n          class=\"tab\" \n          :class=\"{ active: selectedOption === 'subscription' }\" \n          @click=\"selectedOption = 'subscription'\"\n        >\n          Prenumerera\n        </div>\n      </div>\n      \n      <div class=\"option-content\">\n        <div v-if=\"selectedOption === 'one-time'\" class=\"one-time-option\">\n          <div class=\"price\">\n            <span v-if=\"service.discountedPrice\" class=\"original-price\">{{ formatPrice(service.price) }} kr</span>\n            <span class=\"current-price\">{{ formatPrice(service.discountedPrice || service.price) }} kr</span>\n          </div>\n          <div class=\"description\">\n            <p>Beställ nu för engångsanvändning. Passa på att göra en hälsokontroll för att få en nulägesbild av din hälsa.</p>\n          </div>\n          <div class=\"actions\">\n            <button @click=\"addToCart('one-time')\" class=\"btn btn-primary\">Lägg i kundvagn</button>\n          </div>\n        </div>\n        \n        <div v-if=\"selectedOption === 'subscription' && service.isSubscription\" class=\"subscription-option\">\n          <div class=\"price\">\n            <span class=\"current-price\">{{ formatPrice(service.price) }} kr</span>\n            <span class=\"interval\">/ {{ service.subscriptionInterval }}</span>\n          </div>\n          <div class=\"description\">\n            <p>Prenumerera för regelbundna kontroller. Perfekt för dig som vill följa din hälsoutveckling över tid.</p>\n            <ul class=\"benefits\">\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Automatisk leverans</span>\n              </li>\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Förmånligt prenumerationspris</span>\n              </li>\n              <li>\n                <i class=\"fas fa-check\"></i>\n                <span>Avsluta när du vill</span>\n              </li>\n            </ul>\n          </div>\n          <div class=\"actions\">\n            <button @click=\"addToCart('subscription')\" class=\"btn btn-primary\">Prenumerera nu</button>\n          </div>\n        </div>\n      </div>\n      \n      <div v-if=\"showNotification\" class=\"notification\" :class=\"notificationType\">\n        <i v-if=\"notificationType === 'success'\" class=\"fas fa-check-circle\"></i>\n        <i v-else class=\"fas fa-exclamation-circle\"></i>\n        <span>{{ notificationMessage }}</span>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, watch } from 'vue';\n  import { useStore } from 'vuex';\n  \n  export default {\n    name: 'PurchaseOptions',\n    props: {\n      service: {\n        type: Object,\n        required: true\n      }\n    },\n    setup(props) {\n      const store = useStore();\n      const selectedOption = ref('one-time');\n      const showNotification = ref(false);\n      const notificationMessage = ref('');\n      const notificationType = ref('');\n      \n      // Reset selected option if service changes\n      watch(() => props.service, () => {\n        selectedOption.value = 'one-time';\n      });\n      \n      const formatPrice = (price) => {\n        return new Intl.NumberFormat('sv-SE').format(price);\n      };\n      \n      const addToCart = (purchaseType) => {\n        store.dispatch('cart/addToCart', {\n          service: props.service,\n          purchaseType\n        });\n        \n        // Show success notification\n        notificationMessage.value = 'Produkten har lagts till i kundvagnen';\n        notificationType.value = 'success';\n        showNotification.value = true;\n        \n        // Hide notification after 3 seconds\n        setTimeout(() => {\n          showNotification.value = false;\n        }, 3000);\n      };\n      \n      return {\n        selectedOption,\n        showNotification,\n        notificationMessage,\n        notificationType,\n        formatPrice,\n        addToCart\n      };\n    }\n  };\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  .purchase-options {\n    position: relative;\n    \n    .option-tabs {\n      display: flex;\n      border-bottom: 1px solid #dee2e6;\n      margin-bottom: 1.5rem;\n      \n      .tab {\n        padding: 0.75rem 1.25rem;\n        cursor: pointer;\n        font-weight: 500;\n        color: #6c757d;\n        transition: $transition-base;\n        \n        &:hover {\n          color: $primary;\n        }\n        \n        &.active {\n          color: $primary;\n          border-bottom: 2px solid $primary;\n        }\n      }\n    }\n    \n    .option-content {\n      .one-time-option, .subscription-option {\n        padding: 1.5rem;\n        border: 1px solid #dee2e6;\n        border-radius: $border-radius;\n        margin-bottom: 1.5rem;\n        \n        .price {\n          margin-bottom: 1rem;\n          \n          .original-price {\n            text-decoration: line-through;\n            color: #6c757d;\n            margin-right: 0.5rem;\n            font-size: 1.1rem;\n          }\n          \n          .current-price {\n            font-weight: bold;\n            font-size: 1.8rem;\n            color: $primary;\n          }\n          \n          .interval {\n            font-size: 1rem;\n            color: #6c757d;\n          }\n        }\n        \n        .description {\n          margin-bottom: 1.5rem;\n          \n          p {\n            margin-bottom: 1rem;\n          }\n          \n          .benefits {\n            list-style: none;\n            padding: 0;\n            \n            li {\n              display: flex;\n              align-items: center;\n              margin-bottom: 0.75rem;\n              \n              i {\n                color: $primary;\n                margin-right: 0.75rem;\n              }\n            }\n          }\n        }\n        \n        .actions {\n          .btn {\n            width: 100%;\n            padding: 0.75rem;\n          }\n        }\n      }\n      \n      .subscription-option {\n        background-color: #f8f9fa;\n      }\n    }\n    \n    .notification {\n      position: absolute;\n      top: -3.5rem;\n      left: 0;\n      right: 0;\n      padding: 1rem;\n      border-radius: $border-radius;\n      display: flex;\n      align-items: center;\n      animation: slideDown 0.3s ease;\n      \n      &.success {\n        background-color: lighten($success, 40%);\n        border: 1px solid lighten($success, 30%);\n        color: darken($success, 10%);\n      }\n      \n      &.error {\n        background-color: lighten($danger, 40%);\n        border: 1px solid lighten($danger, 30%);\n        color: darken($danger, 10%);\n      }\n      \n      i {\n        margin-right: 0.75rem;\n        font-size: 1.25rem;\n      }\n    }\n  }\n  \n  @keyframes slideDown {\n    from {\n      transform: translateY(-20px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n  </style>"],"mappings":"AAuEE,SAASA,GAAG,EAAEC,KAAI,QAAS,KAAK;AAChC,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,cAAa,GAAIX,GAAG,CAAC,UAAU,CAAC;IACtC,MAAMY,gBAAe,GAAIZ,GAAG,CAAC,KAAK,CAAC;IACnC,MAAMa,mBAAkB,GAAIb,GAAG,CAAC,EAAE,CAAC;IACnC,MAAMc,gBAAe,GAAId,GAAG,CAAC,EAAE,CAAC;;IAEhC;IACAC,KAAK,CAAC,MAAMG,KAAK,CAACC,OAAO,EAAE,MAAM;MAC/BM,cAAc,CAACI,KAAI,GAAI,UAAU;IACnC,CAAC,CAAC;IAEF,MAAMC,WAAU,GAAKC,KAAK,IAAK;MAC7B,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD,CAAC;IAED,MAAMI,SAAQ,GAAKC,YAAY,IAAK;MAClCZ,KAAK,CAACa,QAAQ,CAAC,gBAAgB,EAAE;QAC/BlB,OAAO,EAAED,KAAK,CAACC,OAAO;QACtBiB;MACF,CAAC,CAAC;;MAEF;MACAT,mBAAmB,CAACE,KAAI,GAAI,uCAAuC;MACnED,gBAAgB,CAACC,KAAI,GAAI,SAAS;MAClCH,gBAAgB,CAACG,KAAI,GAAI,IAAI;;MAE7B;MACAS,UAAU,CAAC,MAAM;QACfZ,gBAAgB,CAACG,KAAI,GAAI,KAAK;MAChC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IAED,OAAO;MACLJ,cAAc;MACdC,gBAAgB;MAChBC,mBAAmB;MACnBC,gBAAgB;MAChBE,WAAW;MACXK;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}